<%= render 'shared/errors', obj: @exhibit %>
<div class="container">
    <div class="row justify-content-center">
    <div class="col-10">
        <%= form_with(model: @exhibit, class: "shadow p-3 mb-3 bg-light rounded") do |f| %>
            <div class="form-group row p-3">
                <div class="col-2">
                <%= f.label :title, class: "col-form-label" %>
                </div>
                <div class="col-10">
                <%= f.text_field :title, class: "form-control shadow rounded" %>
                </div>
            </div>

            <div class="form-group row p-3">
                <div class="col-2">
                <%= f.label :description, class: "col-form-label" %>
                </div>
                <div class="col-10">
                <%= f.text_area :description, rows: 10, class: "form-control shadow rounded" %>
                </div>
            </div>

            <div class="form-group row p-3">
                <div class="col-2">
                <%= f.label :digital_objects, class: "col-form-label" %>
                </div>
                <div class="col-10">
                <h3>Collection</h3>
                <div id="collection" class="o-sortable1 card container mb-2" style="min-height:25px;">
                <% @digital_objects.each do |object| %>
                    <option value="<%= object.id %>" class="row">
                        <div class="col-sm-1"><img class="img-fluid img-thumbnail" src="https://dp.la/thumb/<%= object.object %>"></div>
                        <div class="col-sm-11"><%= object.title %> - <%= object.description %> </div>
                        <%= fields_for :exhibit_digital_objects, @exhibit.exhibit_digital_objects do |exhibit_obj_form| %>
                            <%= exhibit_obj_form.text_field :note %>
                        <% end %>


                        <%= f.text_field @exhibit_objects[object.id][:order], class: "form-control shadow rounded" %>
                    </option>
                <% end %>
                </div>
                <h3>Exhibit</h3>
                <option>Drag and drop objects from the collection into the exhibit.</option>
                <select class="o-sortable2 form-select shadow rounded container col-sm-12" multiple size="10" style="min-height:25px;" name="exhibit[digital_object_ids][]" id ="digital_object_ids">
                    
                </select>
                

                </div>
            </div>
            
            <div class="form-group row p-3 justify-content-center">
                <%= f.submit class: "btn btn-outline-dark btn-lg" %>
            </div>
        </div>
        <% end %>
        <%= javascript_pack_tag 'sort-objects' %>
    </div>
    </div>
</div>